moot issue? android drawables folder as a "link" to cocos2d-x "resource" folder? so as to re-use assets?


wobble master project
  - check out androidmanifest.xml and permissions??
  - AndroidManifest.xml tags and publishing to the play store


NEW SCENES ===> LIVE WALLPAPER ==> TOY CUSTOMIZER PROJECT OR FINISH HAWAIIAN THEME?
  - remember to double check GameManager::GameManager() for appropriate scene defaults
  - RUBELayer::updateLightSensor() - doesn't this need check of _body_bobble existence like RUBELayer::updateIdleWobble()
    - also rename to "updateLightSensorWobble()"


"BOBBLE BODY" DEFINITION
  - _body_bobble defined in overloaded ::afterLoadProcessing()
    ex. _body_bobble = json->getBodyByName("body_top");

  - primary?
  - potential problem when logging shows angular velocity for the primary bobble body (toy-mode)
  - also, issue with velocity constraint?
  - take a look at single vs multiple (hula girl vs sandals)

  - implement as RUBE user property similar to "ethereal" instead of the box2d body name?
  - composite scene with multiple toys has potentially more than one "bobble body"


SEPARATE ACCELERATION SCALING FOR EACH AXIS
  - not sure if this was noted elsewhere, but separate scaling for each axis might be a good idea, especially for exaggerated bounce motion along the y-axis
    - this might be good for speed bumps.. vs. the impulse/jerk idea
    - this should be easy to test just be altering existing code with a fixed scalar on the y-axis to test out this hypothesis
    - full implementation would be a pain though


AUDIO NOTE ITEMS
  LAYERS
  - toast layer to root
  - RUBE sprite layer
  - RUBE physics debug layer on top of RUBE sprites; child of RUBE scene
  - HUD layer
  - ADVERTISING layer
  - background graphics; possibly 1 or more actual layers or maybe just sprites sprites (parallax effect)
  - 2 particle effect layers (behind AND in front of RUBE sprites)

  HUD wobble button
    - touch cycles through for now; possibly slide out selector in the future
  
  TOUCH SPARKLES / TWINKLES


SCENE DEFAULTS
  - scene defaults for turtles (original)
  - scene defaults for turtles (new)
    - appropriate scale, world width/height min/max?


VERIFY/FIX DEV MODE SLIDER ON NEW SCENES
  - remove altogether


NEW SCENES
  - surfer
    - bobble movement example: https://youtu.be/O2ay_oGVI-c?t=226

  - android surfer

  - hawaiian tux penguin sandals
    By Larry Ewing, Simon Budig, Garrett LeSage - http://www.home.unix-ag.org/simon/penguin/, garrett/Tux on GitHub, CC0, https://commons.wikimedia.org/w/index.php?curid=753970

  - android hula dancer

  SUMMARY + POSSIBLE NEW SCENES
    beach sandals | hawaiian tux feet
    hula girl | android hula robot | tux hula (NEW)
    hawaiian turtle
    hang loose
    surfer | android surfer (NEW)
    muscle guy (NEW)
    mermaid (NEW)
    "solar-powered" hibiscus flower (NEW)


BUG - RUBELayer::updateAcceleration()
* in RUBELayer::updateAcceleration() and possibly RUBELayer::updateGyroscope(), I think there's a bug with how the primary "bobble body" is handled
  - basically, I believe that every box2d body is treated the same whether or not it is the primary "bobble"
  - for the sandals scene, this works out fine; and the logging of each shoe is handled within the class..
  - only of the "spring hula girl" and the "original turtle" scenes really have a multi-body assembly that demonstrate this; the hula girl sort of removes this effect with the "ethereal" property implementation, but this effect can be clearly seen on the original turtles head/fins with the properties set just so

  * once a FIX is determined and implemented, the "original turtle" scene needs to have the broken update function(s) maintained as overloaded versions (Jack's "crazy" turtles)


LIVE WALLPAPER
* live wallpaper: re-try cocos2d-x experiment, android/java implementation?
  - see "Tuesday 2019-06-25"
  - https://discuss.cocos2d-x.org/t/solved-creating-android-live-wallpaper-with-cocos2d-x/24370/1
  - https://stackoverflow.com/questions/19099904/cocos2dx-android-live-wallpaper
  - https://discuss.cocos2d-x.org/t/3-2rc0-android-live-wallpaper/15460/13
  - https://discuss.cocos2d-x.org/t/how-to-implement-a-live-wallpaper-with-a-cocos2d-x-3-1/14563
  - https://androiddvlpr.com/android-live-wallpaper-tutorial/ (2019 animated gif)


----------
Thursday 2020-03-04

  live wallpaper

    - read links:
      1: https://www.pushing-pixels.org/2010/02/01/live-wallpapers-with-android-sdk-2-1.html
      2: https://discuss.cocos2d-x.org/t/3-2rc0-android-live-wallpaper/15460

      link 1: pushing pixels (2010)
        - good reference

        - what is android.os.Handler AND java.lang.Runnable?
        - references Engine AND AnimationEngine - what's "AnimationEngine"?
        - example of swipe-scroll parallax
        - able to identify if live wallpaper is in "preview" mode using "this.isPreview()"
        - "synchronized()" ?
        - canvas.save(), canvas.drawColor(), canvas.restore()?
        - onCommand() user touch example

        referenced opengl alternative:
          https://web.archive.org/web/20181202175012/http://www.rbgrn.net/content/354-glsurfaceview-adapted-3d-live-wallpapers
          https://github.com/GLWallpaperService/GLWallpaperService
          https://groups.google.com/forum/#!forum/glwallpaperservice (buried link)
          http://www.learnopengles.com/how-to-use-opengl-es-2-in-an-android-live-wallpaper/ (buried link)

        android.service.wallpaper.WallpaperService.Engine internal class methods:
          onCreate() – called when the engine is initialized. At this point the drawing surface has not yet been created
          onDestroy() – called when the engine is destroyed. After this method is called, the engine is no longer valid
          onSurfaceCreated() – called when the drawing surface has been created
          onSurfaceChanged() – called when structural changes (such as size or format) have been made to the drawing surface
          onSurfaceDestroyed() – called when the drawing surface has been destroyed
          onVisibilityChanged() – called when the wallpaper becomes visible or hidden. When the wallpaper is hidden, you should suspend your animation and not draw anything to save the CPU cycles
          onOffsetsChanged() – called when the wallpaper offsets are changed after the user “swipes” the home screen to one of the sides. Can be used to create a “parallax” effect when the wallpaper is moving along with the home screen
          onTouchEvent() – called when the user performs touch-screen interaction with the window that is showing the wallpaper
          onCommand() – called to process a command

    - compare "standard native" live wallpaper vs. 

    

    - STARTING POINT "rube_loader_custom" project compare code to 2019-06.txt notes -> link 2

      + compare against starting template cocos2dx project "lwp_test"
      + compare against current "pure android" live wallpaper project using simple graphics "LWP_simple"

----------
Tuesday 2020-03-02

  - create re-usable cocos2d-x/android base project and add to github repository


  live wallpaper

    lwp_test (starting template "live wallpaper" project)

      android activity
        => simple native android live wallpaper
        => cocos2dx project with simple graphic

      - imperfect, but works to combine native android live wallpaper + cocos2d-x
        - one issue is that when starting a cocos2d-x activity from android, TWO activities now exist

      - this was difficult to get working and diagnose issues
        - see github check-in, but basically, besides the standard live wallpaper implementation, gradle.properties needs androidX support and AndroidManifest.xml needs correct theme style
        - THIS WAS NOT OBVIOUS AT ALL WHAT WAS WRONG..

----------
Thursday 2020-02-27

  live wallpaper

    notes: Saturday 2019-06-22 - Wednesday 2019-06-26

    https://developer.android.com/reference/android/service/wallpaper/package-summary
    https://androiddvlpr.com/android-live-wallpaper-tutorial/ (newer)
    https://youtu.be/WWywGPDfx1g (newer youtube)

    - tried the vogella live wallpaper example, it compiles and works, but it's rather old from 2010
      https://www.vogella.com/tutorials/AndroidLiveWallpaper/article.html
      - prefs are deprecated, but still work, though they don't immediately take effect..
      
      vogella tutorial is based on:
      https://www.pushing-pixels.org/2010/02/01/live-wallpapers-with-android-sdk-2-1.html
      - good explanations

    - combined vogella + tuts+ tutorial for simple image + animated gif
      tuts+ animated gif tutorial:
      https://code.tutsplus.com/tutorials/create-a-live-wallpaper-on-android-using-an-animated-gif--cms-23088

    - android canvas api might be useful
      https://developer.android.com/reference/android/graphics/Canvas

    - an alternative of creating animated gifs from image captures..
      https://stackoverflow.com/questions/16331437/how-to-create-an-animated-gif-from-jpegs-in-android-development



  surfer scene

    TODO: perhaps a new setting for accelerometer induced torque, separate from the current accelerometer scaling effect; why? because sometime both induced force AND induced torque are enabled, and the current scaling effect isn't necessarily desirable on both

    TODO: tuning still necessary, but required joints "wired" appropriately to be controlled by the developer settings; return later

    TODO: step ::initHUDSliderData() needs experimental refinement

    TODO: images - surfboard color is too close to skin-tone; better artwork; fix waist artwork to allow for more rotation
    TODO: RUBE physics - arms too wobbly, slightly higher frequency


  tux feet

    FIX: when RUBE scene is initially loaded, physics is ok, but RIGHT FOOT ANGLE SETTINGS BECOME MANGLED after 
    returning from developer settings

      SCENES            BEACH SANDALS                       TUX FEET

                        LEFT WELD       RIGHT WELD          LEFT WELD       RIGHT WELD
      REFERENCE ANGLE   -3              3                   1.81            -1.2

                        LEFT REVOLUTE   RIGHT REVOLUTE      LEFT REVOLUTE   RIGHT REVOLUTE
      REFERENCE ANGLE   -90             -90                 -140            -60
      LOWER LIMIT       30              30                  110             30
      UPPER LIMIT       150             150                 190             110

      - comparing the "tux feet" and "beach sandals" scenes, the exact code for handling the feet weld/revolute joints can't be reused
      - the "beach sandals" scene are an exact mirror, whereas the "tux feet" scene has custom values for each foot
      * the tux feet revolute joint code has been removed along with the revolute joint visibility in developer mode ..THIS ONLY PARTLY FIXES THE ISSUE

      TODO: the tux feet weld joint reference angle code still needs fixed, but is bit more complex


    NOTE / TODO: accelerometer "noise" at steady state actually work pretty well for idle wobble visual effect compared to what I have for the beach sandals - the weld joint frequency, etc. might have something to do with this. this needs experimentation and depending on the results could carry over to the beach sandals. this is only at steady state as slightest vibration causes pronounced movement..

----------
Tuesday 2020-02-25

  - traced "_body_bobble" variable and it's effects in update() and related functions
      RELATED NOTE:
        - there are now 2 turtles scenes that behave erratically depending on various scene settings
        - this erratic behavior is what prompted the _body_bobble evaluation
        - neither turtle .cpp scene overrides ::afterLoadProcessing()
        - also, some erratic behavior could possibly be solved by marking the body appendages (including the head) as "ethereal"; I'm not sure about "touchable" yet


  add new scenes to android project ("NEW SCENE PROCESS DOCUMENTATION" - Sunday 2020-01-19)
    - "android hula" and "surfer" RUBE assemblies are more-or-less based on the "hula-multi-joint"
    + "tux feet" RUBE assembly is similarly based on the "sandals" RUBE assembly
      - code for these scenes re-purposes much of the same code

    - basic scene settings established with more precise tuning later on

    TODO: step ::initHUDSliderData() needs experimental refinement for each new scene
    TODO: "android hula" arm re-position logic needs implementation


  * my android "wobble" project will most likely make a slight detour. for some time now, I've had the idea of customizable template scenes that use either:
    a) very BASIC BOX2D/RUBE PHYSICS MODEL (pure rotational - "hang loose" OR a simplified multi-joint - "hula girl")
    b) GYROSCOPE CONTROLLED SPINNING 3D .OBJ (similar to spaceship demo)

    - the key difference between what I'm currently working on and this is that the GRAPHICS WILL BE SUPPLIED BY THE END-USER - with perhaps a few demo graphics

    - in the beginning, ONLY ONE OF EACH TYPE OF SCENE WILL PERSIST. with the POSSIBLILITY OF CREATING MULTIPLE SCENES BASED OFF OF ONE OF THE TEMPLATES LATER ON

    - the box2d/rube scenes should be able to specify the primary box2d-body graphic AND one additional background graphic. each graphic can then be moved/resized around to better compose the physics "toy"

    - the 3d .obj scenes should only be able to specify a .obj. I'm not sure if that can be customized - size or angle..

    * the background image should be able to be customized, but this functionality is blurred with the ongoing "toy" vs. "multi-toy scene" development. this type of customization might be better utilized in the scene composition

    - this project diverges from my original hawaiian-themed "wobble" project, but obviously will SHARE A SIGNIFICANT CODE BASE and SHOULD EXIST AS IT'S OWN INDEPENDENT APP
      - I'm not sure of a good name yet: "dashboard customizer" OR "dashboard toy customizer"

    - I'm not sure if these scene templates would really fit into the hawaiian-themed "wobble" project per se, but I could re-purpose some logic to create a hula dancer (or similar scene) with a cut-out face where the end-user could specify a face photo that could be moved/resized

----------
Sunday 2020-02-23

    android project
      - final prep + compressed scene resource files
      - copied resource files to the android project and addded to git source control


    TUX FEET

      - scale had to be increased as the phone resolutions guide was initially set to the wrong height; adjustment made for the weld joint resting angle with gravity effects

      - eyeballs now move within a constrained area; primary eyeballs "body" had a "fix rotation" setting which help prevent eyeballs rolling at the end of the distance joint

      TODO: the eyelids graphic needs to be larger on top to prevent eyeballs being visible at the top edge when they move


    SURFER

      - scale increased 2x similar to TUX FEET + joint adjustments

      design notes:
      
        - when scaling, prismatic joint limits aren't affected and adjustments must be manual


    ANDROID HULA ROBOT

      - scale increased 2x similar to TUX FEET + joint adjustments

      - the current joint settings allow for the poseable arms

      TODO: white/black outline for robot shapes, especially the arms; the body outline should be a separate graphic behind everything else

      TODO: in order to "lock" the arms in place, the weld frequency should be set to zero and the weld reference angle should be set to the pose angle programmatically (body angle? not sure yet)

----------
Friday 2020-02-21

  SURFER / TUX FEET / ANDROID HULA ROBOT

    TUX FEET

      - conceptually similar to the beach sandals scene, with the addition of moveable eyeballs

      design notes:

        - stopped @ eyeball joints
          - eyeballs are 1 unit at the moment
          - needs static + middle + eyeball bodies similar to hula multi-weld
          - more tests needed

        TODO: the "body" graphic needs shortening on the graphic left-side leg portion to allow for greater visual rotation of the foot graphic -- FIXED

        - for each foot, the rest position at each weld joint with frequency=2.3, the weld joint reference angle must be customized to counter the effects of gravity
          - unfortunately, the resting reference angle is affected by gravity, weld frequency and body mass distribution

----------
Tuesday 2020-02-18

  SURFER / TUX FEET / ANDROID HULA ROBOT
    - creating RUBE box2d assemblies

    SURFER

      design notes:
        - peripheral joint/bodies shouldn't be directly affected by the motion sensors - these are marked "ethereal"
        - TODO: the main body / shorts waist band should be altered visually to allow more movement on the revolute joint

----------
Monday 2020-02-17

  REVOLUTE JOINT "POSEABLE" POSITIONS
    
    TAGS: revolute joint, enable motor, torque, poseable

    EFFECT: "poseable" box2d bodies when attached to a revolute joint

    - I wanted to write a note regarding this for later reference. I thought I had written about this previously, but couldn't find anything with a search of my notes
    - basically, I noticed this effect a while ago in the RUBE editor, but apparently didn't make any notes regarding this "unusual" effect
    - currently, I want the ANDROID HULA ROBOT to have poseable arms and this may be useful in the future

    - to ENABLE THIS FEATURE, in the settings for a revolute joint, set "enable motor = true" and "max motor torque > 0"
      - the value for "max motor torque" defines the torque strength necessary to move the joint
      - when a weld joint is superimposed onto a revolute joint, the value for MOTOR TORQUE should be tested against the weld-spring settings (frequency, reference angle)
        - see "sandals.rube" and experiment with this file to better understand this relationship


  SURFER / TUX FEET / ANDROID HULA ROBOT
    - creating RUBE box2d assemblies

    ANDROID HULA ROBOT
      - bobble body: superimposed WELD-REVOLUTE on a superimposed DISTANCE-PRISMATIC
        - copying the HULA GIRL MULTI-JOINT - RUBE "spring assembly" for use here

        * NOTE: I've often noticed that the hula box2d assemblies often are displaced a small distance whenever a scene first loads
          - I think I've found a fix -- for the distance joint, INCREASE THE LENGTH PROPERTY by the displacement measured in the RUBE simulator grid
            for instance, on the ANDROID HULA ROBOT, I typically see a 0.01 displacement when the world gravity = 0, -10; so increase the distance joint length from 0.2 to 0.21 to counter the displacement effect

      - poseable arms: superimposed WELD-REVOLUTE (x2) + motor torque (see NOTE 1)
      - bouncing antenna: superimposed WELD-REVOLUTE (x2)
      - grass skirt fronds: TODO (based on an animated gif I have, I'm planning on having 4-5 fronds move in response to the bobble body, just for the added visual effect; this could also be used for other hula-style scenes or other visual components - hair and a lei come to mind)

      NOTE 1:
        - relatively happy with the RUBE scene physics. this bobble spring joint assembly seems pretty good and should be used as a reference.

        - using the WELD-REVOLUTE joint settings alone, however, is insufficient to implement the poseable arms feature. fully rigid weld joints are needed to keep the arms in place while dance-wobbling, but flexible during the user-touch when posing the arms. 
        
        TODO: this needs to be done programmatically during user-touch (weld frequency = 1), otherwise it should be rigid (weld frequency = 0). once finished with posing an arm, the weld reference angle should be set (clockwise direction is +angle). hopefully, this works. also, each arm pose should be remembered.

----------
Sunday 2020-02-16

  SURFER / TUX FEET / ANDROID HULA ROBOT
    - exported to bitmap => started creation of RUBE box2d assemblies

    * experimenting with image size / dpi
      - currently, all scene resources use ~40dpi
      - for the ANDROID HULA scene, I'm trying both 40dpi and 200dpi

      TEXTURE PACKER notes:
        - 2048 pixels x 2048 pixels appears to be the optimal spritesheet size for mobile; for the ANROID HULA @ 200dpi this was split (other options not tried include TEXTURE PACKER scaling OR a max spritesheet of 4096 pixels x 4096 pixels OR a smaller DPI - 100-160dpi maybe)
        - duplicate graphics (ie. ANDROID arms, legs, antenna) are handled quite well by TEXTURE PACKER, but need to be in the same orientation for texture packer to recognize duplicates

      RUBE notes:
        - image assets appear to be INTERCHANGEABLE with different image densities -- just move the .rube file to another folder with duplicate image resource names (or equivalent programmatic method); the image appears to be scaled to fit automatically

        * note is each image asset and the "filter" property
          - by default "filter = linear" which smooths out pixels with the alternative of "filter = nearest"
          - the default "filter = linear" seems to create an unwanted outline effect @ 40dpi
          - "filter = nearest" allows for easier re-positioning of moveable graphics on a reference image

----------
Friday 2020-02-14

  SURFER / TUX FEET / ANDROID HULA ROBOT
    - basic svg graphics created; tomorrow export to bitmap and begin new scenes creation


  INKSCAPE LINE DRAWING + PATTERN TECHNIQUE

    - pencil tool settings: bezier path, smooth = 50, LPE based interactive simplify = false, shape = none
    - draw lines
    - draw path shape(s) for pattern
    - copy path shape to clipboard
    - select lines to apply pattern
    - select path effects + add "PATTERN ALONG PATH"
    - select "link to path on clipboard"

----------
Thursday 2020-02-13

  GIMP SCALING

    pixel art alternative? scaling selection or image with resize filters for SVG created art


  INKSCAPE TUTORIALS

    select (z-order stack)                alt + mouse click

    move selected z-order item            alt + mouse click + move mouse

    pan                                   ctrl + arrow keys
                                          space + move mouse
                                          mouse wheel (up/down)
                                          shift + mouse wheel (left/right)

    scrollbars                            ctrl + b

    zoom                                  + / = / -

    z-order (single step)                 page up / page down
    z-order (top)                         home
    z-order (bottom)                      end

    show / hide dialogs                   f12

    select similar objects                edit > select same > ...

    shape to path                         ctrl + shift + c

    bezier drawing options                click, click + drag, click + drag + shift, backspace, enter

    bezier edit options
      add node at location                ctrl + alt + click
      delete node (retain path shape)     delete OR ctrl + alt + click
      delete node                         ctrl + delete
      add node at segment                 insert
      delete bezier handle                ctrl
      duplicate nodes                     shift + d
      break path                          shift + b
      join path                           shift + j
      combine compound paths              ctrl + k
      break apart compound paths          shift + ctrl + k

    inset path                            ctrl + (
    outset path                           ctrl + )
    dynamic offset                        ctrl + j
    linked offset (preferred)             path > linked offset

    simplify                              ctrl + l

----------
Wednesday 2020-02-12

  - break due to move

  SURFER SCENE
    - surf board

  TUX FEET / ANDROID HULA ROBOT